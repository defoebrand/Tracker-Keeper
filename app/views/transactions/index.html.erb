<div class='transactions'>
  <div class="assigned">
    <h4>Assigned Transactions</h4>
  <% @assigned_type_sums = {} %>
  <% @transactions.each{|x| @assigned_type_sums[x.amount_type] = 0 unless x.group_id == nil} %>
  <% @transactions.each{|x| @assigned_type_sums[x.amount_type] += x.amount unless x.group_id == nil} %>
    <div>
    <% @assigned_type_sums.each do |x| %>
      <span><%= x[0] == nil ? 'Unassigned' : x[0] %> : <%= x[1] %><%= ' | ' unless x[0] == @assigned_type_sums.keys.last %>  </span>
    <% end %>
  </div>
  <br>
    <%= render 'assigned_transactions', @assigned_type_sums %>
    </div>

  <div class="unassigned">
    <h4>Unassigned Transactions</h4>
      <% @unassigned_type_sums = {} %>
      <% @transactions.each{|x| @unassigned_type_sums[x.amount_type] = 0 if x.group_id == nil} %>
      <% @transactions.each{|x| @unassigned_type_sums[x.amount_type] += x.amount if x.group_id == nil} %>
      <div>
        <% @unassigned_type_sums.each do |x| %>
          <span><%= x[0] == nil ? 'Unassigned' : x[0] %>: <%= x[1] %><%= ' | ' unless x[0] == @unassigned_type_sums.keys.last %> </span>
        <% end %>
      </div>
      <br>

        <%= render 'unassigned_transactions', @unassigned_type_sums %>



      <br />
    </div>
  </div>
